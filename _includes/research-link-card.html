{%- if include.style == "small" -%}
  {%- assign width = 200 -%}
{%- else -%}
  {%- assign width = 400 -%}
{%- endif -%}

{%- assign placeholder = "images/placeholder.svg" | relative_url -%}

<div class="research-link-card" style="--width: {{ width }}px; display: inline-block; width: {{ width }}px; max-width: calc(100% - 20px); margin: 20px 10px; position: relative;">
  <button 
    class="research-link-card__button" 
    onclick="window.open('{{ include.link }}', '_blank')"
    type="button"
    style="display: flex; flex-direction: column; width: 100%; height: 450px; border: none; padding: 0; margin: 0; background: white; background-color: white; background-image: none; border-radius: 35px; overflow: hidden; box-shadow: 0 6px 25px rgba(0, 0, 0, 0.12); transition: all 0.3s ease; cursor: pointer; position: relative; transform: translateY(0); color: inherit; text-decoration: none;"
  >
    
    <!-- 图像区域 -->
    <div class="research-link-card__image" style="position: relative; width: 100%; height: 180px; display: flex; justify-content: center; align-items: center; background: white; background-color: white; background-image: none; border-radius: 35px 35px 0 0; padding: 20px; flex-shrink: 0; margin: 0;">
      <img
        src="{{ include.image | relative_url }}"
        onerror="this.src = '{{ placeholder }}'; this.onerror = null;"
        loading="lazy"
        alt="{{ include.title | default: 'Research Link' }}"
        style="max-width: 150px; max-height: 150px; width: auto; height: auto; object-fit: contain; transition: transform 0.5s ease; border-radius: 15px; background: transparent; background-color: transparent; background-image: none; margin: 0; padding: 0;"
      >
    </div>

    <!-- 内容区域 -->
    <div class="research-link-card__content" style="flex: 1; padding: 30px 25px 25px 25px; text-align: center; display: flex; flex-direction: column; justify-content: flex-start; align-items: center; background: white; background-color: white; background-image: none; margin: 0;">
      {%- if include.title -%}
        <h3 class="research-link-card__title" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 24px; font-weight: 800; margin: 0 0 20px 0; padding: 0; line-height: 1.3; color: #333333; text-align: center; width: 100%;">
          {{- include.title -}}
        </h3>
      {%- endif -%}

      {%- if include.description -%}
        <div class="research-link-card__description" style="font-size: 15px; line-height: 1.6; color: #666666; margin: 0; padding: 0; text-align: center; width: 100%;">
          {{- include.description | markdownify -}}
        </div>
      {%- endif -%}
    </div>

  </button>
</div> 